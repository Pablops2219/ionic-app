<ion-header [translucent]="true">
  <ion-buttons (click)="dismissModal()" slot="start">
    <ion-icon name="close-outline"></ion-icon>
  </ion-buttons>
</ion-header>

<ion-content>
  <ion-toolbar>
    <ion-title>
      <h1>{{!this.comunityService.participation ? 'Elige tu vehículo ' : 'Ya estás participando'}}</h1>
    </ion-title>
  </ion-toolbar>
  <ion-list *ngIf="!loading">
    <ion-item-sliding *ngFor="let vehicle of vehicles">
      <ion-item>
        <div class="vehicle-card">
          <!-- Imagen del vehículo dentro de la tarjeta -->
          <div class="vehicle-image" *ngIf="vehicle.image">

            <img [src]="vehicle.image" />

          </div>

          <!-- Detalles del vehículo dentro de la tarjeta -->
          <div class="vehicle-details">
            <ion-label>
              {{ vehicle.license_plate }}
            </ion-label>
            <ion-label>
              {{ vehicle.make }}
            </ion-label>
            <ion-label>
              {{ vehicle.model }}
            </ion-label>

            <!-- Botón para cada vehículo -->

          </div>
          <ion-button *ngIf="!this.comunityService.participation" (click)="presentAlertConfirm(vehicle)" slot="end"
            color="primary">
            Participar
          </ion-button>
        </div>
      </ion-item>
    </ion-item-sliding>
  </ion-list>


  <!--====== Loading ======-->
  <ion-list *ngIf="loading">
    <ion-item class="product-item" *ngFor="let vehicle of [1,1,1]">
      <div class="vehicle">
        <ion-avatar class="image-vehicle">
          <ion-skeleton-text animated style="width: 100%; height: 100%;"></ion-skeleton-text>
        </ion-avatar>
        <div>
          <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
          <ion-skeleton-text animated style="width: 30%"></ion-skeleton-text>
          <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
          <ion-skeleton-text animated style="width: 30%"></ion-skeleton-text>
          <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
          <ion-skeleton-text animated style="width: 30%"></ion-skeleton-text>
        </div>
      </div>
    </ion-item>
  </ion-list>

  <!--En caso de no haber vehiclos-->
  <div *ngIf="!loading && vehicles.length === 0" class="empty">
    <ion-icon name="shield-outline"></ion-icon>
    <h3>No tiene vehiculos registrados</h3>
  </div>
</ion-content>